---
import { Image } from "astro:assets";

interface Props {
  imageUrls: string[];
}

const { imageUrls } = Astro.props;

if (!imageUrls || imageUrls.length <= 0) return;
---

<div class="product_image__viewer">
  <ul>
    {
      imageUrls.map((image) => (
        <li class="product_image__item" tabindex={-1}>
          <Image
            src={image}
            alt="Product image thumbnail"
            width={60}
            height={60}
          />
        </li>
      ))
    }
  </ul>
  <section class="product_image">
    <Image src={imageUrls[0]} alt="Product image" width={520} height={520} />
  </section>
</div>

<style>
  .product_image__viewer {
    max-width: 600px;

    display: grid;
    grid-template-columns: 0.2fr 0.8fr;
    gap: 1rem;
  }

  .product_image__viewer ul {
    max-width: 80px;

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }

  .product_image__item {
    list-style: none;

    width: 60px;
    height: 60px;

    border-radius: var(--border-radius);

    overflow: hidden;

    cursor: pointer;
  }

  .product_image__item:focus {
    outline: 3px solid rgb(var(--callout-border-rgb));
    outline-offset: 2px;
  }

  /* Mobile */
  @media (max-width: 700px) {
    .product_image {
      width: 100%;
    }

    .product_image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
</style>
