---
import ProductCard from "../products/ProductCard.astro";
import DeleteProductFromCart from "./forms/DeleteProductFromCart.astro";
import { type CartItemWithProduct } from "@customTypes/cart";

interface Props {
  cartItem: CartItemWithProduct;
}

const { cartItem } = Astro.props;

const product = cartItem.product;
---

<ProductCard class="product_card__incart" product={product}>
  <div class="product_card__actions">
    <DeleteProductFromCart productId={product.id} />
    <span>Cant: {cartItem.quantity}</span>
  </div>
</ProductCard>

<style>
  .product_card__incart {
    max-width: 400px;
  }

  .product_card__actions {
    margin-left: auto;

    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  /* Mobile */
  @media (max-width: 700px) {
    .product_card__incart {
      padding: 0.5rem;
      gap: 0.3rem;

      font-size: small;
    }
  }
</style>
